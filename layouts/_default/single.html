{{ define "main" }}
<div class="single">
    <div class="singleHead">
        <div class="singleHeadTexts">
            <time class="singleDate">Published on {{dateFormat .Site.Params.dateFormat .Date }}</time>
            <h1 class="singleHeadTitle">{{.Title}}</h1>
            {{range (.GetTerms "categories") }}
            <a class="singleCategory" href={{ .Permalink }}>{{ .Name }}</a>
            {{end}}
        </div>
    </div>
    <div class="singleBottom">
        <h2 class="tocTitle">Table of Contents</h2>

        {{/* --- Add TOC Here --- */}}
        {{ if .TableOfContents }}
        <div class="toc-container">
        <button id="toc-toggle" class="toc-toggle-button" aria-expanded="false" aria-controls="TableOfContents">
            <span class="toc-arrow-icon-container">
            {{/* SVG for right-pointing arrow (closed state) */}}
            <svg class="toc-arrow-icon" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M400-280v-400l200 200-200 200Z"/></svg>
            </span>
            Open Table of contents
        </button>
        <div class="toc-content">
            {{ .TableOfContents }} {{/* Hugo generates <nav id="TableOfContents">...</nav> */}}
        </div>
        </div>
        {{ end }}

        {{/* --- End TOC --- */}}



        <div class="singleContent">{{ .Content }}</div>
    </div>
</div>
{{end}}
